# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on PR
'on': pull_request
jobs:
  build_and_preview:
    if: '${{ github.event.pull_request.head.repo.full_name == github.repository }}'
    runs-on: ubuntu-latest
    env:
      SKIP_PREFLIGHT_CHECK: 'true'
      BROWSER: 'none'
      NEXT_PUBLIC_APIKEY: 'AIzaSyCYVGtkHCFL6p6cqvyMSX8oAu_Byiyty8g'
      NEXT_PUBLIC_AUTHDOMAIN: 'eddie-technology.firebaseapp.com'
      NEXT_PUBLIC_PID: 'eddie-technology'
      NEXT_PUBLIC_SB: 'eddie-technology.appspot.com'
      NEXT_PUBLIC_APPID: '1:241613230165:web:925a34522b467e22e644dc'
      NEXT_PUBLIC_MID: '241613230165'
    steps:
      - uses: actions/checkout@v2
      - uses: borales/actions-yarn@v2.3.0
        with:
          cmd: install # will run `yarn install` command
      - uses: borales/actions-yarn@v2.3.0
        with:
          cmd: build # will run `yarn build` command
      - uses: FirebaseExtended/action-hosting-deploy@v0
        with:
          repoToken: '${{ secrets.GITHUB_TOKEN }}'
          firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_EDDIE_TECHNOLOGY }}'
          projectId: eddie-technology
